import{_ as n,W as e,X as t,Z as s,a0 as o,a1 as l,Y as r,D as c,$ as p}from"./framework-1800c995.js";const i={},d=r(`<h2 id="ntp設定" tabindex="-1"><a class="header-anchor" href="#ntp設定" aria-hidden="true">#</a> NTP設定</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> chrony

$ <span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-E</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/^(pool (.*)ubuntu(.*))/# \\1/g&#39;</span> /etc/chrony/chrony.conf
$ <span class="token builtin class-name">echo</span> <span class="token string">&#39;pool ntp.nict.jp iburst&#39;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/chrony/chrony.conf
$ <span class="token function">sudo</span> systemctl restart chrony.service
$ chronyc sources
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="管理用ユーザ追加" tabindex="-1"><a class="header-anchor" href="#管理用ユーザ追加" aria-hidden="true">#</a> 管理用ユーザ追加</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>adduser <span class="token parameter variable">--shell</span> /usr/bin/bash <span class="token parameter variable">-uid</span> <span class="token number">1200</span> <span class="token parameter variable">--ingroup</span> adm <span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span>

<span class="token function">sudo</span> <span class="token parameter variable">-u</span> <span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/<span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span>/.ssh
<span class="token function">sudo</span> <span class="token parameter variable">-u</span> <span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span> <span class="token function">chmod</span> <span class="token number">700</span> /home/<span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span>/.ssh
<span class="token function">cat</span> /root/.ssh/authorized_keys <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token parameter variable">-u</span> <span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span> <span class="token function">tee</span> /home/<span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span>/.ssh/authorized_keys
<span class="token function">sudo</span> <span class="token parameter variable">-u</span> <span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span> <span class="token function">chmod</span> <span class="token number">600</span> /home/<span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span>/.ssh/authorized_keys
<span class="token function">vi</span> /etc/sudoers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dockerのインストール" tabindex="-1"><a class="header-anchor" href="#dockerのインストール" aria-hidden="true">#</a> Dockerのインストール</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt</span> update
$ <span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/apt/keyrings
$ <span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token parameter variable">-o</span> /etc/apt/keyrings/docker.gpg
$ <span class="token function">sudo</span> <span class="token function">chmod</span> a+r /etc/apt/keyrings/docker.gpg
$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [arch=<span class="token variable"><span class="token variable">$(</span>dpkg --print-architecture<span class="token variable">)</span></span> signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span> stable&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/docker.list <span class="token operator">&gt;</span> /dev/null
$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce docker-ce-cli containerd.io net-tools
$ <span class="token function">sudo</span> gpasswd <span class="token parameter variable">-a</span> <span class="token operator">&lt;</span>ユーザ名<span class="token operator">&gt;</span> <span class="token function">docker</span>
$ <span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nginxのインストール" tabindex="-1"><a class="header-anchor" href="#nginxのインストール" aria-hidden="true">#</a> nginxのインストール</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo apt install -y nginx
sudo ufw allow &#39;Nginx Full&#39;
sudo ufw status
systemctl status nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="certbotのインストール" tabindex="-1"><a class="header-anchor" href="#certbotのインストール" aria-hidden="true">#</a> certbotのインストール</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo apt install certbot
sudo certbot certonly --webroot -w /var/www/html -d &lt;misskeyのドメイン名&gt;
sudo certbot certonly --webroot -w /var/www/html -d &lt;misskeyのメディア用ドメイン名&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10);function u(k,v){const a=c("RouterLink");return e(),t("div",null,[s("ul",null,[s("li",null,[o(a,{to:"/server/latest-packages.html"},{default:l(()=>[p("パッケージ情報最新化")]),_:1})])]),d])}const b=n(i,[["render",u],["__file","commands.html.vue"]]);export{b as default};
